{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      dialogVisible: false,\n      form: {\n        name: '',\n        age: ''\n      }\n    };\n  },\n  created: function created() {\n    this.loadTable(this.pageNum);\n  },\n  methods: {\n    loadTable: function loadTable(num) {\n      var _this = this;\n\n      this.pageNum = num;\n      $.get(\"/user/page?pageNum=\" + this.pageNum + \"&pageSize=\" + this.pageSize + \"&name=\" + this.name).then(function (res) {\n        _this.page = res.data;\n      });\n    },\n    add: function add() {\n      this.dialogVisible = true;\n      this.form = {};\n    },\n    edit: function edit(row) {\n      this.form = row;\n      this.dialogVisible = true;\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var data = JSON.stringify(this.form);\n\n      if (this.form.id) {\n        // 编辑\n        $.ajax({\n          url: '/user',\n          type: 'put',\n          contentType: 'application/json',\n          data: data\n        }).then(function (res) {\n          _this2.dialogVisible = false;\n\n          _this2.loadTable(1);\n        });\n      } else {\n        // 新增\n        $.ajax({\n          url: '/user',\n          type: 'post',\n          contentType: 'application/json',\n          data: data\n        }).then(function (res) {\n          _this2.dialogVisible = false;\n\n          _this2.loadTable(1);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACAA,MADA,kBACA;AACA;AACAC,0BADA;AAEAC;AACAC,gBADA;AAEAC;AAFA;AAFA;AAOA,GATA;AAUAC,SAVA,qBAUA;AACA;AACA,GAZA;AAaAC;AACAC,aADA,qBACAC,GADA,EACA;AAAA;;AACA;AACAC;AACA;AACA,OAFA;AAGA,KANA;AAOAC,OAPA,iBAOA;AACA;AACA;AACA,KAVA;AAWAC,QAXA,gBAWAC,GAXA,EAWA;AACA;AACA;AACA,KAdA;AAeAC,QAfA,kBAeA;AAAA;;AACA;;AACA;AACA;AACAJ;AACAK,sBADA;AAEAC,qBAFA;AAGAC,yCAHA;AAIAhB;AAJA,WAKAiB,IALA,CAKA;AACA;;AACA;AACA,SARA;AASA,OAXA,MAWA;AACA;AACAR;AACAK,sBADA;AAEAC,sBAFA;AAGAC,yCAHA;AAIAhB;AAJA,WAKAiB,IALA,CAKA;AACA;;AACA;AACA,SARA;AASA;AACA;AAxCA;AAbA","names":["data","dialogVisible","form","name","age","created","methods","loadTable","num","$","add","edit","row","save","url","type","contentType","then"],"sourceRoot":"src/views","sources":["ApplyList.vue"],"sourcesContent":["<template>\r\n     <el-row class=\"tac\">\r\n        <el-col :span=\"4\">\r\n            <el-menu\r\n                    default-active=\"2\"\r\n                    class=\"el-menu-vertical-demo\"\r\n                    @open=\"handleOpen\"\r\n                    @close=\"handleClose\">\r\n                <el-submenu index=\"1\">\r\n                    <template slot=\"title\">\r\n                        <i class=\"el-icon-location\"></i>\r\n                        <span>请假模块</span>\r\n                    </template>\r\n                    <el-menu-item-group>\r\n                        <template slot=\"title\">分组一</template>\r\n                        <el-menu-item index=\"1-1\">选项1</el-menu-item>\r\n                        <el-menu-item index=\"1-2\">选项2</el-menu-item>\r\n                    </el-menu-item-group>\r\n                    <el-menu-item-group title=\"分组2\">\r\n                        <el-menu-item index=\"1-3\">选项3</el-menu-item>\r\n                    </el-menu-item-group>\r\n                    <el-submenu index=\"1-4\">\r\n                        <template slot=\"title\">选项4</template>\r\n                        <el-menu-item index=\"1-4-1\">选项1</el-menu-item>\r\n                    </el-submenu>\r\n                </el-submenu>\r\n                <el-menu-item index=\"2\">\r\n                    <i class=\"el-icon-menu\"></i>\r\n                    <span slot=\"title\">打卡模块</span>\r\n                </el-menu-item>\r\n                <el-menu-item index=\"3\" disabled>\r\n                    <i class=\"el-icon-document\"></i>\r\n                    <span slot=\"title\">人事</span>\r\n                </el-menu-item>\r\n                <el-menu-item index=\"4\">\r\n                    <i class=\"el-icon-setting\"></i>\r\n                    <span slot=\"title\">财务</span>\r\n                </el-menu-item>\r\n            </el-menu>\r\n        </el-col>\r\n        <el-col :span=\"20\">\r\n\r\n            <el-row>\r\n                <el-col :span=\"6\" style=\"margin-bottom: 10px\">\r\n                    <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n                    <el-input v-model=\"name\" style=\"width: 70%\" @keyup.enter.native=\"loadTable(1)\"></el-input>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-table\r\n                    :data=\"page.content\"\r\n                    stripe\r\n                    border\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"用户名\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"age\"\r\n                        label=\"年龄\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sex\"\r\n                        label=\"性别\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"address\"\r\n                        label=\"地址\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"phone\"\r\n                        label=\"电话\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed=\"right\"\r\n                        label=\"操作\"\r\n                        width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"small\" circle @click=\"edit(scope.row)\"></el-button>\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"small\" circle @click=\"del(scope.row.id)\"></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-row type=\"flex\" justify=\"center\" style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                        layout=\"prev, pager, next\"\r\n                        :page-size=\"pageSize\"\r\n                        :current-page=\"pageNum\"\r\n                        @prev-click=\"loadTable\"\r\n                        @current-change=\"loadTable\"\r\n                        @next-click=\"loadTable\"\r\n                        :total=\"page.totalElements\">\r\n                </el-pagination>\r\n            </el-row>\r\n\r\n            <el-dialog\r\n                    title=\"员工信息表\"\r\n                    :visible.sync=\"dialogVisible\"\r\n                    width=\"30%\">\r\n                <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                    <el-form-item label=\"用户名\">\r\n                        <el-input v-model=\"form.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"年龄\">\r\n                        <el-input v-model=\"form.age\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"性别\">\r\n                        <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n                        <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"地址\">\r\n                        <el-input v-model=\"form.address\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"电话\">\r\n                        <el-input v-model=\"form.phone\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n        </span>\r\n            </el-dialog>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<style >\r\n\r\n</style>\r\n\r\n<script>\r\n export default {\r\n     data() {\r\n         return {\r\n             dialogVisible: false,\r\n             form: {\r\n                 name: '',\r\n                 age: '',\r\n             }\r\n        }\r\n    },\r\n    created() {\r\n            this.loadTable(this.pageNum);\r\n    },\r\n    methods: {\r\n        loadTable(num) {\r\n            this.pageNum = num;\r\n            $.get(\"/user/page?pageNum=\" + this.pageNum + \"&pageSize=\" + this.pageSize + \"&name=\" + this.name).then(res => {\r\n                this.page = res.data;\r\n            });\r\n        },\r\n        add() {\r\n            this.dialogVisible = true;\r\n            this.form = {};\r\n        },\r\n        edit(row) {\r\n            this.form = row;\r\n            this.dialogVisible = true;\r\n        },\r\n        save() {\r\n            let data = JSON.stringify(this.form);\r\n            if (this.form.id) {\r\n                // 编辑\r\n                $.ajax({\r\n                    url: '/user',\r\n                    type: 'put',\r\n                    contentType: 'application/json',\r\n                    data: data\r\n                }).then(res => {\r\n                    this.dialogVisible = false;\r\n                    this.loadTable(1);\r\n                })\r\n            } else {\r\n                // 新增\r\n                $.ajax({\r\n                    url: '/user',\r\n                    type: 'post',\r\n                    contentType: 'application/json',\r\n                    data: data\r\n                }).then(res => {\r\n                    this.dialogVisible = false;\r\n                    this.loadTable(1);\r\n                })\r\n            }\r\n        }\r\n    }\r\n }\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}