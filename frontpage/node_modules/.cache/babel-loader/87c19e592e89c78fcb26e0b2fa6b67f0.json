{"ast":null,"code":"import _defineProperty from \"D:/frontpage/element/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      page: []\n    };\n  },\n  created: function created() {\n    this.loaddata();\n  },\n  methods: (_methods = {\n    loaddata: function loaddata() {\n      var _this2 = this;\n\n      this.$http.get('/getApplyInfoForEvent').then(function (res) {\n        _this2.page = res.data;\n      });\n    },\n    formatState: function formatState(row) {\n      if (row.state == 0) {\n        return '拒绝';\n      } else if (row.state == 1) {\n        return '审核中';\n      } else if (row.state == 2) {\n        return '通过';\n      }\n    },\n    formatType: function formatType(row) {\n      if (row.type == 0) {\n        return '事假';\n      } else if (row.type == 1) {\n        return '年假';\n      } else if (row.type == 2) {\n        return '婚假';\n      } else if (row.type == 3) {\n        return '产检';\n      } else if (row.type == 4) {\n        return '产假';\n      } else if (row.type == 5) {\n        return '哺乳';\n      } else if (row.type == 6) {\n        return '陪产';\n      } else if (row.type == 7) {\n        return '外出';\n      }\n    },\n    formatDate: function formatDate(row) {\n      var date = new Date(row.startTime);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return year + '-' + month + '-' + day;\n    }\n  }, _defineProperty(_methods, \"formatDate\", function formatDate(startTime) {\n    var date = new Date(startTime);\n    var year = date.getFullYear();\n    var month = date.getMonth() + 1;\n    var day = date.getDate();\n    return year + '-' + month + '-' + day;\n  }), _defineProperty(_methods, \"pass\", function pass(index, row) {\n    var _this = this;\n\n    this.$http.post('/checkApplyInfo/' + row.applyId + '/2').then(function (res) {\n      if (res.data) {\n        _this.$message({\n          message: '已通过',\n          type: 'success'\n        });\n\n        _this.loaddata();\n      } else {\n        _this.$message({\n          message: '通过失败',\n          type: 'error'\n        });\n      }\n    });\n  }), _defineProperty(_methods, \"reject\", function reject(index, row) {\n    var _this = this;\n\n    this.$http.post('/checkApplyInfo/' + row.applyId + '/0').then(function (res) {\n      if (res.data) {\n        _this.$message({\n          message: '已驳回',\n          type: 'success'\n        });\n\n        _this.loaddata();\n      } else {\n        _this.$message({\n          message: '驳回失败',\n          type: 'error'\n        });\n      }\n    });\n  }), _methods)\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACAA,MADA,kBACA;AACA;AACAC;AADA;AAGA,GALA;AAMAC,SANA,qBAMA;AACA;AACA,GARA;AASAC;AACAC,YADA,sBACA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KALA;AAMAC,eANA,uBAMAC,GANA,EAMA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAdA;AAeAC,cAfA,sBAeAD,GAfA,EAeA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjCA;AAkCAE,cAlCA,sBAkCAF,GAlCA,EAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA,iEAyCAG,SAzCA,EAyCA;AACA;AACA;AACA;AACA;AACA;AACA,GA/CA,mDAgDAC,KAhDA,EAgDAJ,GAhDA,EAgDA;AACA;;AACA;AACA;AACAK;AACAC,wBADA;AAEAC;AAFA;;AAIAF;AACA,OANA,MAMA;AACAA;AACAC,yBADA;AAEAC;AAFA;AAIA;AACA,KAbA;AAcA,GAhEA,uDAiEAH,KAjEA,EAiEAJ,GAjEA,EAiEA;AACA;;AACA;AACA;AACAK;AACAC,wBADA;AAEAC;AAFA;;AAIAF;AACA,OANA,MAMA;AACAA;AACAC,yBADA;AAEAC;AAFA;AAIA;AACA,KAbA;AAcA,GAjFA;AATA","names":["data","page","created","methods","loaddata","formatState","row","formatType","formatDate","startTime","index","_this","message","type"],"sourceRoot":"src/views","sources":["CheckApply.vue"],"sourcesContent":["<template>\r\n    <!-- 部门经理获得三天以下的申请列表 -->\r\n    <el-table\r\n        stripe\r\n        :data=\"page\"\r\n        border>\r\n        <el-table-column\r\n            prop=\"applyId\"\r\n            label=\"申请序号\">\r\n            <template slot-scope=\"scope\">\r\n        <el-popover trigger=\"hover\" placement=\"top\">\r\n          <p>姓名: {{ scope.row.name }}</p>\r\n          <p>工号: {{ scope.row.account }}</p>\r\n          <div slot=\"reference\" class=\"name-wrapper\">\r\n            <el-tag size=\"medium\">{{ scope.row.applyId }}</el-tag>\r\n          </div>\r\n        </el-popover>\r\n      </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"请假日期\"\r\n            >\r\n            <template slot-scope=\"scope\">\r\n        <i class=\"el-icon-time\"></i>\r\n        <span style=\"margin-left: 10px\">{{ formatDate(scope.row.startTime )}}</span>\r\n      </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"duringTime\"\r\n            label=\"请假天数\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"type\"\r\n            label=\"请假类型\"\r\n            :formatter=\"formatType\"\r\n            >\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button\r\n          size=\"mini\"\r\n          type=\"success\"\r\n          @click=\"pass(scope.$index, scope.row)\">通过</el-button>\r\n        <el-button\r\n          size=\"mini\"\r\n          type=\"danger\"\r\n          @click=\"reject(scope.$index, scope.row)\">驳回</el-button>\r\n      </template>\r\n    </el-table-column>\r\n    </el-table>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n    data(){\r\n        return {\r\n            page:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.loaddata();\r\n    },\r\n    methods:{\r\n        loaddata(){\r\n            this.$http.get('/getApplyInfoForEvent').then(res => {\r\n                this.page = res.data;\r\n            });\r\n        },\r\n        formatState(row){\r\n            if (row.state == 0) {\r\n                return '拒绝';\r\n            } else if (row.state == 1) {\r\n                return '审核中';\r\n            } else if (row.state == 2) {\r\n                return '通过';\r\n            }\r\n        },\r\n        formatType(row){\r\n            if (row.type == 0) {\r\n                return '事假';\r\n            } else if (row.type == 1) {\r\n                return '年假';\r\n            } else if (row.type == 2) {\r\n                return '婚假';\r\n            } else if (row.type == 3) {\r\n                return '产检';\r\n            } else if (row.type == 4) {\r\n                return '产假';\r\n            } else if (row.type == 5) {\r\n                return '哺乳';\r\n            } else if (row.type == 6) {\r\n                return '陪产';\r\n            } else if (row.type == 7) {\r\n                return '外出';\r\n            } \r\n        },\r\n        formatDate(row){\r\n            var date = new Date(row.startTime);\r\n            var year = date.getFullYear();\r\n            var month = date.getMonth()+1;\r\n            var day = date.getDate();\r\n            return year+'-'+month+'-'+day;\r\n        },\r\n        formatDate(startTime){\r\n            var date = new Date(startTime);\r\n            var year = date.getFullYear();\r\n            var month = date.getMonth()+1;\r\n            var day = date.getDate();\r\n            return year+'-'+month+'-'+day;\r\n        },\r\n        pass(index, row) {\r\n            var _this = this;\r\n            this.$http.post('/checkApplyInfo/'+row.applyId+'/2').then(res => {\r\n                if (res.data) {\r\n                    _this.$message({\r\n                    message: '已通过',\r\n                    type: 'success'\r\n                    });\r\n                    _this.loaddata();\r\n                } else {\r\n                    _this.$message({\r\n                    message: '通过失败',\r\n                    type: 'error'\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        reject(index, row) {\r\n            var _this = this;\r\n            this.$http.post('/checkApplyInfo/'+row.applyId+'/0').then(res => {\r\n                if (res.data) {\r\n                    _this.$message({\r\n                    message: '已驳回',\r\n                    type: 'success'\r\n                    });\r\n                    _this.loaddata();\r\n                } else {\r\n                    _this.$message({\r\n                    message: '驳回失败',\r\n                    type: 'error'\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}