{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    submitClick: function submitClick() {\n      var _this = this;\n\n      if (_this.loginForm.username == '' || _this.loginForm.password == '') {\n        this.$alert('账号或密码不能为空', '提示', {\n          confirmButtonText: '确定'\n        });\n      } else {\n        _this.$http.get('/login');\n\n        _this.$http.get('/login/' + _this.loginForm.username + '/' + _this.loginForm.password).then(function (response) {\n          if (response.data != '') {\n            _this.$alert('登录成功', '提示', {\n              confirmButtonText: '确定'\n            });\n\n            window.sessionStorage.setItem('empId', response.data.empId);\n            window.sessionStorage.setItem('account', response.data.account);\n            window.sessionStorage.setItem('name', response.data.name);\n            window.sessionStorage.setItem('role', response.data.role);\n\n            _this.$router.replace({\n              path: '/home'\n            });\n          } else {\n            _this.$alert('账号或密码错误', '提示', {\n              confirmButtonText: '确定'\n            });\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,oBADA;AAEAC;AAFA;AADA;AAMA,GARA;AASAC;AACAC;AACA;;AACA;AACA;AACAC;AADA;AAGA,OAJA,MAIA;AACAC;;AACAA;AACA;AACAA;AACAD;AADA;;AAGAE;AACAA;AACAA;AACAA;;AACAD;AAAAE;AAAA;AACA,WATA,MASA;AACAF;AACAD;AADA;AAGA;AACA,SAfA;AAgBA;AACA;AA1BA;AATA","names":["data","loginForm","username","password","methods","submitClick","confirmButtonText","_this","window","path"],"sourceRoot":"src/views","sources":["login.vue"],"sourcesContent":["<template>\r\n<div class=\"back\">\r\n <el-form class=\"login-container\" label-position=\"left\"\r\n           label-width=\"0px\" >\r\n    <h3 class=\"login_title\">考勤系统登录</h3>\r\n    <el-form-item prop=\"account\">\r\n      <el-input type=\"text\" v-model=\"loginForm.username\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item prop=\"checkPass\">\r\n      <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item style=\"width: 100%\">\r\n      <el-button type=\"primary\" @click.native.prevent=\"submitClick\" style=\"width: 100%\">登录</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</div>\r\n  \r\n</template>\r\n<script>\r\n  export default{\r\n    data(){\r\n      return {\r\n       loginForm:{\r\n         username:'',\r\n         password:''\r\n       }\r\n      }\r\n    },\r\n    methods: {\r\n      submitClick: function () {\r\n        var _this = this;\r\n        if (_this.loginForm.username == ''||_this.loginForm.password == '') {\r\n          this.$alert('账号或密码不能为空', '提示', {\r\n            confirmButtonText: '确定',\r\n          });\r\n        }else{\r\n          _this.$http.get('/login')\r\n          _this.$http.get('/login/'+_this.loginForm.username+'/'+_this.loginForm.password).then(function (response) {\r\n            if (response.data!='') {\r\n              _this.$alert('登录成功', '提示', {\r\n                confirmButtonText: '确定',\r\n              });\r\n              window.sessionStorage.setItem('empId',response.data.empId);\r\n              window.sessionStorage.setItem('account',response.data.account);\r\n              window.sessionStorage.setItem('name',response.data.name);\r\n              window.sessionStorage.setItem('role',response.data.role); \r\n              _this.$router.replace({path: '/home'});   \r\n            }else{\r\n              _this.$alert('账号或密码错误', '提示', {\r\n                confirmButtonText: '确定',\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n  .back{\r\n    \r\n      background-image: url('https://images.unsplash.com/photo-1573480813647-552e9b7b5394?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2253&q=80');\r\n      background-repeat: no-repeat;\r\n      background-position: center;\r\n      background-attachment: fixed;\r\n      background-size: cover;\r\n      -webkit-background-size: cover;\r\n      -moz-background-size: cover;\r\n      -o-background-size: cover;\r\n\r\n    }\r\n  .login-container {\r\n    border-radius: 15px;\r\n    background-clip: padding-box;\r\n    margin: 180px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n  }\r\n\r\n  .login_title {\r\n    margin: 0px auto 40px auto;\r\n    text-align: center;\r\n    color: #505458;\r\n  }\r\n\r\n  .login_remember {\r\n    margin: 0px 0px 35px 0px;\r\n    text-align: left;\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}