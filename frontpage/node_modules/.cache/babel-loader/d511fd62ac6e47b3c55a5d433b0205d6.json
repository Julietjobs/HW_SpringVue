{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      dialogVisible: false,\n      form: {\n        name: '',\n        age: ''\n      },\n      empId: 0\n    };\n  },\n  created: function created() {\n    this.loadTable(this.pageNum);\n  },\n  methods: {\n    loadTable: function loadTable(num) {\n      var _this = this;\n\n      _this.pageNum = num;\n\n      _this.$http.get('/getApplyRecordById' + window.sessionStorage.getItem('empId')).then(function (res) {\n        _this.page = res.data;\n        console.log(res.data);\n      });\n    } // add() {\n    //     this.dialogVisible = true;\n    //     this.form = {};\n    // },\n    // edit(row) {\n    //     this.form = row;\n    //     this.dialogVisible = true;\n    // },\n    // save() {\n    //     let data = JSON.stringify(this.form);\n    //     if (this.form.id) {\n    //         // 编辑\n    //         $.ajax({\n    //             url: '/user',\n    //             type: 'put',\n    //             contentType: 'application/json',\n    //             data: data\n    //         }).then(res => {\n    //             this.dialogVisible = false;\n    //             this.loadTable(1);\n    //         })\n    //     } else {\n    //         // 新增\n    //         $.ajax({\n    //             url: '/user',\n    //             type: 'post',\n    //             contentType: 'application/json',\n    //             data: data\n    //         }).then(res => {\n    //             this.dialogVisible = false;\n    //             this.loadTable(1);\n    //         })\n    //     }\n    // }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACAA,MADA,kBACA;AACA;AACAC,0BADA;AAEAC;AACAC,gBADA;AAEAC;AAFA,OAFA;AAMAC;AANA;AAQA,GAVA;AAWAC,SAXA,qBAWA;AACA;AACA,GAbA;AAcAC;AACAC,aADA,qBACAC,GADA,EACA;AACA;;AACAC;;AACAA;AACAA;AACAC;AACA,OAHA;AAIA,KARA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1CA;AAdA","names":["data","dialogVisible","form","name","age","empId","created","methods","loadTable","num","_this","console"],"sourceRoot":"src/views","sources":["ApplyList.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <el-row>\r\n        <el-col :span=\"6\" style=\"margin-bottom: 10px\">\r\n            <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n            <el-input v-model=\"name\" style=\"width: 70%\" @keyup.enter.native=\"loadTable(1)\"></el-input>\r\n        </el-col>\r\n    </el-row>\r\n    <el-table\r\n            :data=\"page.content\"\r\n            stripe\r\n            border\r\n            style=\"width: 100%\">\r\n        <el-table-column\r\n                prop=\"name\"\r\n                label=\"用户名\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"age\"\r\n                label=\"年龄\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"sex\"\r\n                label=\"性别\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"address\"\r\n                label=\"地址\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"phone\"\r\n                label=\"电话\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                fixed=\"right\"\r\n                label=\"操作\"\r\n                width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"small\" circle @click=\"edit(scope.row)\"></el-button>\r\n                <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"small\" circle @click=\"del(scope.row.id)\"></el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <el-row type=\"flex\" justify=\"center\" style=\"margin-top: 10px\">\r\n                <el-pagination\r\n                        layout=\"prev, pager, next\"\r\n                        :page-size=\"pageSize\"\r\n                        :current-page=\"pageNum\"\r\n                        @prev-click=\"loadTable\"\r\n                        @current-change=\"loadTable\"\r\n                        @next-click=\"loadTable\"\r\n                        :total=\"page.totalElements\">\r\n                </el-pagination>\r\n            </el-row>\r\n            <el-dialog\r\n                    title=\"员工信息表\"\r\n                    :visible.sync=\"dialogVisible\"\r\n                    width=\"30%\">\r\n                <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                    <el-form-item label=\"用户名\">\r\n                        <el-input v-model=\"form.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"年龄\">\r\n                        <el-input v-model=\"form.age\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"性别\">\r\n                        <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n                        <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"地址\">\r\n                        <el-input v-model=\"form.address\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"电话\">\r\n                        <el-input v-model=\"form.phone\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n        </span>\r\n            </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<style >\r\n\r\n</style>\r\n\r\n<script>\r\n export default {\r\n     data() {\r\n         return {\r\n             dialogVisible: false,\r\n             form: {\r\n                 name: '',\r\n                 age: '',\r\n             },\r\n             empId: 0,\r\n        }\r\n    },\r\n    created() {\r\n        this.loadTable(this.pageNum);\r\n    },\r\n    methods: {\r\n        loadTable(num) {\r\n            var _this = this;\r\n            _this.pageNum = num;\r\n            _this.$http.get('/getApplyRecordById'+window.sessionStorage.getItem('empId')).then(res => {\r\n                _this.page = res.data;\r\n                console.log(res.data);\r\n            });\r\n        },\r\n        // add() {\r\n        //     this.dialogVisible = true;\r\n        //     this.form = {};\r\n        // },\r\n        // edit(row) {\r\n        //     this.form = row;\r\n        //     this.dialogVisible = true;\r\n        // },\r\n        // save() {\r\n        //     let data = JSON.stringify(this.form);\r\n        //     if (this.form.id) {\r\n        //         // 编辑\r\n        //         $.ajax({\r\n        //             url: '/user',\r\n        //             type: 'put',\r\n        //             contentType: 'application/json',\r\n        //             data: data\r\n        //         }).then(res => {\r\n        //             this.dialogVisible = false;\r\n        //             this.loadTable(1);\r\n        //         })\r\n        //     } else {\r\n        //         // 新增\r\n        //         $.ajax({\r\n        //             url: '/user',\r\n        //             type: 'post',\r\n        //             contentType: 'application/json',\r\n        //             data: data\r\n        //         }).then(res => {\r\n        //             this.dialogVisible = false;\r\n        //             this.loadTable(1);\r\n        //         })\r\n        //     }\r\n        // }\r\n    }\r\n }\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}